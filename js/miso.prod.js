var T="1.9.0.0";function E(z,G){var K=function(){var Q=document.getElementById(z);if(Q&&Q.focus)Q.focus()};G>0?setTimeout(K,G):K()}function S(z,G){var K=function(){var Q=document.getElementById(z);if(Q&&Q.blur)Q.blur()};G>0?setTimeout(K,G):K()}function M(z,G,K,Q,X,Z,Y){var q={method:G,headers:Q};if(K)q.body=K;let U={},$=null;try{fetch(z,q).then((_)=>{$=_.status;for(let[H,W]of _.headers)U[H]=W;if(!_.ok)throw new Error(_.statusText);if(Y=="json")return _.json();else if(Y=="text")return _.text();else if(Y==="arrayBuffer")return _.arrayBuffer();else if(Y==="blob")return _.blob();else if(Y==="bytes")return _.bytes();else if(Y==="formData")return _.formData();else if(Y==="none")return X({error:null,body:null,headers:U,status:$})}).then((_)=>X({error:null,body:_,headers:U,status:$})).catch((_)=>Z({error:null,body:_,headers:U,status:$}))}catch(_){Z({body:null,error:_.message,headers:U,status:$})}}function V(z){if(z.children.length===0)return!1;var G=!0;for(let K of z.children)if(!K.key){G=!1;break}return G}function C(z){var G=function(K){let Q=null;while(K&&K.parentNode){if("componentId"in K.parentNode){Q=K.parentNode.componentId;break}K=K.parentNode}return Q};return G(z)}function P(z,G,K,Q,X,Z,Y,q,U){try{let $=new WebSocket(z);return $.onopen=function(){G()},$.onclose=function(_){K(_)},$.onerror=function(_){console.error(_),q("WebSocket error received")},$.onmessage=function(_){if(typeof _.data==="string")try{if(U){if(Q)Q(_.data);return}let H=JSON.parse(_.data);if(X)X(H)}catch(H){if(U&&Q)Q(_.data);else q(H.message)}else if(_.data instanceof Blob){if(Z)Z(_.data)}else if(_.data instanceof ArrayBuffer){if(Y)Y(_.data)}else console.error("Received unknown message type from WebSocket",_),q("Unknown message received from WebSocket")},$}catch($){q($.message)}}function f(z){if(z)z.close(),z=null}function w(z,G){if(G&&z&&z.readyState===WebSocket.OPEN)z.send(G)}function F(z,G,K,Q,X,Z){try{let Y=new EventSource(z);return Y.onopen=function(){G()},Y.onerror=function(){X("EventSource error received")},Y.onmessage=function(q){try{if(Z){if(K)K(q.data);return}let U=JSON.parse(q.data);if(Q)Q(U)}catch(U){if(Z&&K)K(q.data);else X(U.message)}},Y}catch(Y){X(Y.message)}}function L(z){if(z)z.close(),z=null}function h(z){var G=n(t(),z);if(!G.shouldSync)G.shouldSync=V(G);return G}function n(z,G){return Object.assign({},z,G)}function t(){return{props:{},css:{},children:[],ns:"html",domRef:null,tag:"div",key:null,events:{},onDestroyed:()=>{},onBeforeDestroyed:()=>{},onCreated:()=>{},onBeforeCreated:()=>{},shouldSync:!1,type:"vnode"}}function J(z,G,K,Q){if(!z&&!G)return;else if(!z&&G)j(G,K,Q);else if(!G)zz(z,K,Q);else Gz(z,G,K,Q)}function e(z,G,K,Q){if(I(z),G.type==="vtext")G.domRef=Q.createTextNode(G.text),Q.replaceChild(K,G.domRef,z.domRef);else if(G.type==="vfragment")b(G,K,Q);else g(G,K,Q,(X)=>{Q.replaceChild(K,X,z.domRef)});O(z)}function zz(z,G,K){I(z),K.removeChild(G,z.domRef),O(z)}function Gz(z,G,K,Q){if(z.type==="vtext"&&G.type==="vtext"){if(z.text!==G.text)Q.setTextContent(z.domRef,G.text);G.domRef=z.domRef}else if(G.tag===z.tag&&G.key===z.key&&G.type===z.type)G.domRef=z.domRef,N(z,G,Q);else e(z,G,K,Q)}function O(z){Kz(z);for(let G in z.children)O(z.children[G])}function Kz(z){if(z.onDestroyed)z.onDestroyed();if(z.type==="vcomp")$z(z)}function Qz(z){if(z.onBeforeDestroyed)z.onBeforeDestroyed()}function I(z){if(z.type==="vcomp"&&z.onBeforeUnmounted)z.onBeforeUnmounted();Qz(z);for(let G in z.children)I(z.children[G])}function R(z,G){if(z.onCreated)z.onCreated(z.domRef);if(z.type==="vcomp")Uz(z,G)}function Xz(z){if(z.onBeforeCreated)z.onBeforeCreated()}function N(z,G,K){if(G.type!=="vtext"){if(!z)if(G.type==="vfragment")z=vfragment({});else z=h({});if(Yz(z.props,G.props,G.domRef,G.ns==="svg",K),Zz(z.css,G.css,G.domRef,K),G.type==="vnode")l(z,G,G.domRef,K);else if(G.type==="vfragment")l(z,G,G.domRef,K);_z(G)}}function Yz(z,G,K,Q,X){var Z;for(let Y in z)if(Z=G[Y],Z===void 0)if(Q||!(Y in K)||Y==="disabled")X.removeAttribute(K,Y);else X.setAttribute(K,Y,"");else{if(Z===z[Y]&&Y!=="checked"&&Y!=="value")continue;if(Q)if(Y==="href")X.setAttributeNS(K,"http://www.w3.org/1999/xlink","href",Z);else X.setAttribute(K,Y,Z);else if(Y in K&&!(Y==="list"||Y==="form"))K[Y]=Z;else X.setAttribute(K,Y,Z)}for(let Y in G){if(z&&z[Y])continue;if(Z=G[Y],Q)if(Y==="href")X.setAttributeNS(K,"http://www.w3.org/1999/xlink","href",Z);else X.setAttribute(K,Y,Z);else if(Y in K&&!(Y==="list"||Y==="form"))K[Y]=G[Y];else X.setAttribute(K,Y,Z)}}function Zz(z,G,K,Q){Q.setInlineStyle(z,G,K)}function l(z,G,K,Q){if(z.shouldSync&&G.shouldSync)qz(z.children,G.children,K,Q);else{let X=Math.max(z.children.length,G.children.length);for(let Z=0;Z<X;Z++)J(z.children[Z],G.children[Z],K,Q)}}function b(z,G,K){if(z.ns==="svg")z.domRef=K.createElementNS("http://www.w3.org/2000/svg",z.tag);else if(z.ns==="mathml")z.domRef=K.createElementNS("http://www.w3.org/1998/Math/MathML",z.tag);else if(z.type==="vfragment")z.domRef=G;else z.domRef=K.createElement(z.tag)}function g(z,G,K,Q){Xz(z),b(z,G,K),R(z,K),Q(z.domRef),N(null,z,K)}function _z(z){if(z.tag==="canvas"&&"draw"in z)z.draw(z.domRef)}function $z(z){if("onUnmounted"in z)z.onUnmounted(z.domRef);z.unmount(z.domRef)}function Uz(z,G){if(z.onBeforeMounted)z.onBeforeMounted();z.mount(z.domRef,(K,Q)=>{if(z.children.push(Q),G.appendChild(z.domRef,Q.domRef),z.onMounted)z.onMounted(z.domRef)})}function j(z,G,K){if(z.type==="vtext")z.domRef=K.createTextNode(z.text),K.appendChild(G,z.domRef);else if(z.type==="vfragment")z.domRef=G,z.children.forEach((Q)=>j(Q,G,K));else g(z,G,K,(Q)=>{K.appendChild(G,Q)})}function qz(z,G,K,Q){var X=0,Z=0,Y=z.length-1,q=G.length-1,U,$,_,H,W,B,u;for(;;){if(Z>q&&X>Y)break;if($=G[Z],_=G[q],W=z[X],H=z[Y],X>Y)J(null,$,K,Q),Q.insertBefore(K,$.domRef,W?W.domRef:null),z.splice(Z,0,$),Z++;else if(Z>q){U=Y;while(Y>=X)Q.removeChild(K,z[Y--].domRef);z.splice(X,U-X+1);break}else if(W.key===$.key)J(z[X++],G[Z++],K,Q);else if(H.key===_.key)J(z[Y--],G[q--],K,Q);else if(W.key===_.key&&$.key===H.key)Q.swapDOMRefs(H.domRef,W.domRef,K),Hz(z,X,Y),J(z[X++],G[Z++],K,Q),J(z[Y--],G[q--],K,Q);else if(W.key===_.key)Q.insertBefore(K,W.domRef,Q.nextSibling(H.domRef)),z.splice(Y,0,z.splice(X,1)[0]),J(z[Y--],G[q--],K,Q);else if(H.key===$.key)Q.insertBefore(K,H.domRef,W.domRef),z.splice(X,0,z.splice(Y,1)[0]),J(z[X++],$,K,Q),Z++;else{B=!1,U=X;while(U<=Y){if(z[U].key===$.key){B=!0,u=z[U];break}U++}if(B)z.splice(X,0,z.splice(U,1)[0]),J(z[X++],$,K,Q),Q.insertBefore(K,u.domRef,z[X].domRef),Z++;else g($,K,Q,(o)=>{Q.insertBefore(K,o,W.domRef)}),z.splice(X++,0,$),Z++,Y++}}}function Hz(z,G,K){let Q=z[G];z[G]=z[K],z[K]=Q}function m(z,G,K,Q,X){for(let Z of G)X.addEventListener(z,Z.name,function(Y){x(Y,z,K,Q,X)},Z.capture)}function k(z,G,K,Q,X){for(let Z of G)z.removeEventListener(Z.name,function(Y){x(Y,z,K,Q,X)},Z.capture)}function x(z,G,K,Q,X){K(function(Z){if(Array.isArray(z))for(let Y of z)v(Y,Z,G,Q,X);else v(z,Z,G,Q,X)})}function v(z,G,K,Q,X){var Z=X.getTarget(z);if(Z){var Y=Wz(K,Z,X);a(z,G,Y,[],Q,X)}}function Wz(z,G,K){var Q=[];while(!K.isEqual(z,G))if(Q.unshift(G),G&&K.parentNode(G))G=K.parentNode(G);else return Q;return Q}function a(z,G,K,Q,X,Z){if(!K.length){if(X)console.warn('Event "'+z.type+'" did not find an event handler to dispatch on',G,z);return}else if(K.length>1){Q.unshift(G);for(var Y in G.children){var q=G.children[Y];if(q.type==="vcomp")continue;if(Z.isEqual(q.domRef,K[1])){a(z,q,K.slice(1),Q,X,Z);break}}}else{let U=G.events[z.type];if(U){let $=U.options;if($.preventDefault)z.preventDefault();if(U.runEvent(z,K[0]),!$.stopPropagation)p(Q,z)}else p(Q,z)}}function p(z,G){for(let K of z)if(K.events[G.type]){let Q=K.events[G.type],X=Q.options;if(X.preventDefault)G.preventDefault();if(Q.runEvent(G,K.domRef),X.stopPropagation){G.stopPropagation();break}}}function A(z,G){if(typeof z[0]==="object"){var K=[];for(var Q=0;Q<z.length;Q++)K.push(A(z[Q],G));return K}for(let q of z)G=G[q];var X;if(G instanceof Array||"length"in G&&G.localName!=="select"){X=[];for(var Z=0;Z<G.length;Z++)X.push(A([],G[Z]));return X}X={};for(var Y in Jz(G)){if(G.localName==="input"&&(Y==="selectionDirection"||Y==="selectionStart"||Y==="selectionEnd"))continue;if(typeof G[Y]=="string"||typeof G[Y]=="number"||typeof G[Y]=="boolean")X[Y]=G[Y]}return X}function Jz(z){var G={},K=0;do{var Q=Object.getOwnPropertyNames(z);for(K=0;K<Q.length;K++)G[Q[K]]=null}while(z=Object.getPrototypeOf(z));return G}function Vz(z){var G=0,K=z.length>0?[z[0]]:[];for(var Q=1;Q<z.length;Q++){if(K[G].type==="vtext"&&z[Q].type==="vtext"){K[G].text+=z[Q].text;continue}K[++G]=z[Q]}return K}function Az(z,G){var K=0,Q,X=G.getRoot();if(!z)if(X.childNodes.length>0)Q=X.firstChild;else Q=X.appendChild(G.createElement("div"));else if(z.childNodes.length===0)Q=z.appendChild(G.createElement("div"));else{while(z.childNodes[K]&&(z.childNodes[K].nodeType===3||z.childNodes[K].localName==="script"))K++;if(!z.childNodes[K])Q=X.appendChild(G.createElement("div"));else Q=z.childNodes[K]}return Q}function i(z,G,K,Q){let X=Az(G,Q);if(!s(z,K,X,Q)){if(z)console.warn("[DEBUG_HYDRATE] Could not copy DOM into virtual DOM, falling back to diff");while(Q.firstChild(X))Q.removeChild(X,Q.lastChild(X));return K.domRef=X,N(null,K,Q),!1}else if(z)if(!D(K,Q))console.warn("[DEBUG_HYDRATE] Integrity check completed with errors");else console.info("[DEBUG_HYDRATE] Successfully prerendered page");return!0}function y(z,G,K){if(z)console.warn("[DEBUG_HYDRATE] VTree differed from node",G,K)}function d(z){if(z.substr(0,1)=="#"){let G=(z.length-1)/3,K=[17,1,0.062272][G-1];return[Math.round(parseInt(z.substr(1,G),16)*K),Math.round(parseInt(z.substr(1+G,G),16)*K),Math.round(parseInt(z.substr(1+2*G,G),16)*K)]}else return z.split("(")[1].split(")")[0].split(",").map((G)=>{return+G})}function D(z,G){return c(!0,z,G)}function c(z,G,K){if(G.type=="vtext"){if(K.getTag(G.domRef)!=="#text")console.warn("VText domRef not a TEXT_NODE",G),z=!1;else if(G.text!==K.getTextContent(G.domRef))console.warn("VText node content differs",G),z=!1}else{if(G.tag.toUpperCase()!==K.getTag(G.domRef).toUpperCase())console.warn("Integrity check failed, tags differ",G.tag.toUpperCase(),K.getTag(G.domRef)),z=!1;if("children"in G&&G.children.length!==K.children(G.domRef).length)console.warn("Integrity check failed, children lengths differ",G,G.children,K.children(G.domRef)),z=!1;for(let Q in G.props)if(Q==="href"||Q==="src"){let X=window.location.origin+"/"+G.props[Q],Z=K.getAttribute(G.domRef,Q),Y=G.props[Q];if(X!==Z&&Y!==Z&&Y+"/"!==Z&&X+"/"!==Z)console.warn("Property "+Q+" differs",G.props[Q],K.getAttribute(G.domRef,Q)),z=!1}else if(Q==="height"||Q==="width"){if(parseFloat(G.props[Q])!==parseFloat(K.getAttribute(G.domRef,Q)))console.warn("Property "+Q+" differs",G.props[Q],K.getAttribute(G.domRef,Q)),z=!1}else if(Q==="class"||Q==="className"){if(G.props[Q]!==K.getAttribute(G.domRef,"class"))console.warn("Property class differs",G.props[Q],K.getAttribute(G.domRef,"class")),z=!1}else if(G.props[Q]!==K.getAttribute(G.domRef,Q))console.warn("Property "+Q+" differs",G.props[Q],K.getAttribute(G.domRef,Q)),z=!1;for(let Q in G.css)if(Q==="color"){if(d(K.getInlineStyle(G.domRef,Q)).toString()!==d(G.css[Q]).toString())console.warn("Style "+Q+" differs",G.css[Q],K.getInlineStyle(G.domRef,Q)),z=!1}else if(G.css[Q]!==K.getInlineStyle(G.domRef,Q))console.warn("Style "+Q+" differs",G.css[Q],K.getInlineStyle(G.domRef,Q)),z=!1;for(let Q of G.children){let X=c(z,Q,K);z=z&&X}}return z}function s(z,G,K,Q){switch(G.type){case"vcomp":G.domRef=K,R(G,Q);break;case"vtext":G.domRef=K;break;case"vfragment":G.domRef=K;case"vnode":G.domRef=K;default:G.children=Vz(G.children),R(G,Q);for(var X=0;X<G.children.length;X++){let Z=G.children[X],Y=K.childNodes[X];if(!Y)return y(z,Z,Y),!1;switch(Z.type){case"vtext":if(Y.nodeType!==3)return y(z,Z,Y),!1;if(Z.text===Y.textContent)Z.domRef=Q.children(K)[X];else return y(z,Z,Y),!1;break;default:if(Y.nodeType!==1)return!1;Z.domRef=Y,s(z,Z,Y,Q);break}}}return!0}var r={addEventListener:(z,G,K,Q)=>{z.addEventListener(G,K,Q)},firstChild:(z)=>{return z.firstChild},lastChild:(z)=>{return z.lastChild},parentNode:(z)=>{return z.parentNode},nextSibling:(z)=>{return z.nextSibling},createTextNode:(z)=>{return document.createTextNode(z)},createElementNS:(z,G)=>{return document.createElementNS(z,G)},appendChild:(z,G)=>{return z.appendChild(G)},replaceChild:(z,G,K)=>{return z.replaceChild(G,K)},removeChild:(z,G)=>{return z.removeChild(G)},createElement:(z)=>{return document.createElement(z)},insertBefore:(z,G,K)=>{return z.insertBefore(G,K)},swapDOMRefs:(z,G,K)=>{let Q=z.nextSibling;K.insertBefore(z,G),K.insertBefore(G,Q);return},querySelectorAll:(z)=>{return document.querySelectorAll(z)},setInlineStyle:(z,G,K)=>{var Q;for(let X in z)if(Q=G[X],!Q)K.style[X]="";else if(Q!==z[X])K.style[X]=Q;for(let X in G){if(z&&z[X])continue;K.style[X]=G[X]}return},getInlineStyle:(z,G)=>{return z.style[G]},setAttribute:(z,G,K)=>{return z.setAttribute(G,K)},getAttribute:(z,G)=>{if(G==="class")return z.className;if(G in z)return z[G];return z.getAttribute(G)},setAttributeNS:(z,G,K,Q)=>{return z.setAttributeNS(G,K,Q)},removeAttribute:(z,G)=>{return z.removeAttribute(G)},setTextContent:(z,G)=>{z.textContent=G;return},getTag:(z)=>{return z.nodeName},getTextContent:(z)=>{return z.textContent},children:(z)=>{return z.childNodes},isEqual:(z,G)=>{return z===G},getTarget:(z)=>{return z.target},requestAnimationFrame:(z)=>{return window.requestAnimationFrame(z)},flush:()=>{return},getRoot:()=>{return document.body}};globalThis.miso={};globalThis.miso.diff=J;globalThis.miso.hydrate=i;globalThis.miso.version=T;globalThis.miso.delegate=m;globalThis.miso.callBlur=S;globalThis.miso.callFocus=E;globalThis.miso.eventJSON=A;globalThis.miso.fetchCore=M;globalThis.miso.eventSourceConnect=F;globalThis.miso.eventSourceClose=L;globalThis.miso.websocketConnect=P;globalThis.miso.websocketClose=f;globalThis.miso.websocketSend=w;globalThis.miso.undelegate=k;globalThis.miso.getParentComponentId=C;globalThis.miso.shouldSync=V;globalThis.miso.integrityCheck=D;globalThis.miso.context=r;globalThis.miso.setDrawingContext=function(z){let G=globalThis[z];if(!G)console.warn("Custom rendering engine is not defined",z,globalThis[z]);else globalThis.miso.context=G};
